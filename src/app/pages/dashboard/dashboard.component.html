<!-- src/app/pages/dashboard/dashboard.component.html -->
<main class="p-6 bg-gray-50 dark:bg-gray-900 min-h-full">
  <!-- Welcome Section -->
  <div class="mb-8">
    <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Welcome back, Admin!</h2>
    <p class="text-gray-600 dark:text-gray-400">Here's what's happening with your business today.</p>
  </div>

  <!-- Stats Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    @for (card of statCards; track card.title) {
      <app-card [config]="card"></app-card>
    }
  </div>

  <!-- Main Content Grid -->
  <div class="grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8">
    <!-- Sales Chart -->
    <div class="xl:col-span-2">
      <app-card 
        [config]="{
          title: 'Sales Overview',
          subtitle: 'Last 30 days performance',
          icon: trendingUpIcon,
          iconColor: 'text-green-600 dark:text-green-400',
          actions: [
          
          ]
        }">
        <div class="h-80 bg-gray-50 dark:bg-gray-700 rounded-xl flex items-center justify-center">
          <div class="text-center">
            <lucide-icon [name]="barChartIcon" class="w-16 h-16 text-gray-400 mx-auto mb-4"></lucide-icon>
            <p class="text-gray-500 dark:text-gray-400 text-lg">Sales chart visualization</p>
            <p class="text-gray-400 dark:text-gray-500 text-sm">Interactive chart will be displayed here</p>
          </div>
        </div>
      </app-card>
    </div>

    <!-- Performance Metrics -->
    <div>
      <app-card [config]="{ title: 'Performance Metrics' }">
        <div class="space-y-4">
          @for (metric of performanceMetrics; track metric.label) {
            <div class="flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700">
              <div>
                <p class="text-sm font-medium text-gray-700 dark:text-gray-300">{{ metric.label }}</p>
                <p class="text-2xl font-bold text-gray-800 dark:text-white mt-1">{{ metric.value }}</p>
              </div>
              <div class="text-right">
                <div class="flex items-center space-x-1" [class]="metric.trend === 'up' ? 'text-green-600' : 'text-red-600'">
                  <lucide-icon [name]="metric.trend === 'up' ? arrowUpIcon : arrowDownIcon" class="w-4 h-4"></lucide-icon>
                  <span class="text-sm font-medium">{{ metric.change }}</span>
                </div>
              </div>
            </div>
          }
        </div>
      </app-card>
    </div>
  </div>

  <!-- Bottom Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Recent Activities -->
    <div class="lg:col-span-2">
      <app-card 
        [config]="{
          title: 'Recent Activities',
          actions: [
            
          ]
        }">
        <div class="space-y-3">
          @for (activity of recentActivities; track activity.action) {
            <div class="flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
              <div [class]="'w-10 h-10 rounded-full flex items-center justify-center ' + getActivityColor(activity.type)">
                <lucide-icon [name]="getActivityIcon(activity.type)" class="w-4 h-4"></lucide-icon>
              </div>
              <div class="flex-1">
                <p class="text-sm font-medium text-gray-800 dark:text-white">{{ activity.action }}</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">by {{ activity.user }}</p>
              </div>
              <span class="text-xs text-gray-400 dark:text-gray-500">{{ activity.time }}</span>
            </div>
          }
        </div>
      </app-card>
    </div>

    <!-- Right Sidebar -->
    <div class="space-y-6">
      <!-- Quick Actions -->
      <app-card [config]="{ title: 'Quick Actions' }">
        <div class="space-y-3">
          <button (click)="onNewOrder()" class="w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-primary-50 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-600">
            <lucide-icon [name]="shoppingCartIcon" class="w-5 h-5 text-primary-600"></lucide-icon>
            <span class="text-sm font-medium text-gray-700 dark:text-gray-300">New Order</span>
          </button>
          <button (click)="onAddProduct()" class="w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-primary-50 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-600">
            <lucide-icon [name]="packageIcon" class="w-5 h-5 text-primary-600"></lucide-icon>
            <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Add Product</span>
          </button>
          <button (click)="onGenerateReport()" class="w-full flex items-center space-x-3 p-3 text-left rounded-lg hover:bg-primary-50 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-600">
            <lucide-icon [name]="barChartIcon" class="w-5 h-5 text-primary-600"></lucide-icon>
            <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Generate Report</span>
          </button>
        </div>
      </app-card>

      <!-- Top Products -->
      <app-card [config]="{ title: 'Top Products' }">
        <div class="space-y-3">
          @for (product of topProducts; track product.name; let i = $index) {
            <div class="flex items-center justify-between p-2">
              <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center">
                  <span class="text-xs font-bold text-primary-600 dark:text-primary-400">#{{ i + 1 }}</span>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-800 dark:text-white">{{ product.name }}</p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">{{ product.sales }} sales</p>
                </div>
              </div>
              <span class="text-sm font-semibold text-gray-800 dark:text-white">{{ product.revenue }}</span>
            </div>
          }
        </div>
      </app-card>

      <!-- Pending Tasks -->
      <app-card [config]="{ title: 'Pending Tasks' }">
        <div class="space-y-3">
          @for (task of pendingTasks; track task.task) {
            <div class="flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700">
              <div class="flex-1">
                <p class="text-sm font-medium text-gray-800 dark:text-white">{{ task.task }}</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Due: {{ task.due }}</p>
              </div>
              <span [class]="'px-2 py-1 text-xs font-medium rounded-full ' + getPriorityColor(task.priority)">
                {{ task.priority }}
              </span>
            </div>
          }
        </div>
      </app-card>
    </div>
  </div>
  <!-- Recent Products Table -->
<div class="mt-8">

    <app-data-table
      [data]="tableData"
      [columns]="tableColumns"
      [config]="tableConfig"
      [loading]="false"
      (action)="onTableAction($event)"
      (selectionChange)="onSelectionChange($event)"
      (sortChange)="onSortChange($event)"
      (pageChange)="onPageChange($event)"
    
    ></app-data-table>

</div>
<!-- Chart of Accounts Tree Table -->
<div class="mt-8">
  <app-card 
   >
    
    <app-tree-table
      [data]="treeData"
      [columns]="treeColumns"
      [config]="treeConfig"
      [loading]="false"
      (nodeClick)="onTreeNodeClick($event)"
      (selectionChange)="onTreeSelectionChange($event)"
      (action)="onTreeAction($event)"
    ></app-tree-table>
  </app-card>
</div>
<!-- Add this at the bottom of your dashboard.component.html -->
<app-profile
  [profileData]="profileData"
  [isOpen]="isProfileOpen"
  (profileClose)="onProfileClose()"
  (profileSave)="onProfileSave($event)"
  (avatarChange)="onAvatarChange($event)"
></app-profile>
</main>